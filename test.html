<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>ajax test</title>
    <script src="./index.js" type="text/javascript" charset="utf-8"></script>
  </head>
  <body>
  <div id="log">
  </div>
  <script type="text/javascript" charset="utf-8">
    function log( msg ){
      document.getElementById('log').innerHTML += '<br>' + msg  
    }

    var ajax = window.returnExports.ajax

    ajax({
      url:'./get',
      onSuccess: function(data){
        if(data == 'ok') {
          log('get is ok')
        }
      }
    })

    ajax({
      type:'POST',
      url:'./post',
      data:'test=ok&hello=world',
      onSuccess: function(data){
        if(data == 'ok') {
          log('post is ok')
        }
      }
    })

    ajax({
      type:'POST',
      url:'./post',
      data:'{"a":1,"b":2,"c":3,"d":4}',
      contentType:'application/json',
      onSuccess: function(data){
        if(data == 'ok') {
          log('post json is ok')
        }
      }
    })
  </script>
  </body>
</html>
